# üîê Ultimate Server Hardening Script

–ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–≤–µ–∂–µ–≥–æ Ubuntu-—Å–µ—Ä–≤–µ—Ä–∞ –∑–∞ 5 –º–∏–Ω—É—Ç. –û—Ç –≥–æ–ª–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–æ –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä–∞ —Å –¥–≤—É–º—è —É—Ä–æ–≤–Ω—è–º–∏ –∑–∞—â–∏—Ç—ã.

---

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

### 1. –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —è–¥—Ä–∞

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ root!)
- ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ SSH-–∫–ª—é—á–µ–π –æ—Ç root –∫ –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ sudo-–ø—Ä–∞–≤

### 3. SSH Hardening
- ‚úÖ –°–º–µ–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ SSH –ø–æ—Ä—Ç–∞ (22 ‚Üí –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä 40124)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞ SSH
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã SSH –Ω–∞ –Ω–æ–≤–æ–º –ø–æ—Ä—Ç—É

### 4. –§–∞–µ—Ä–≤–æ–ª (UFW)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ UFW
- ‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤:
  - SSH –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–æ—Ä—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 40024)
  - –í–µ–±-–ø–æ—Ä—Ç—ã: 80 (HTTP), 443 (HTTPS), 8080 (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π)
  - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã –ø–æ –≤–∞—à–µ–º—É –≤—ã–±–æ—Ä—É
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### 5. –ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ (Fail2ban)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Fail2ban
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã SSH –Ω–∞ –Ω–æ–≤–æ–º –ø–æ—Ä—Ç—É
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö IP

### 6. –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ —Ñ–∞–π–ª (`/root/server_info_username.txt`)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (`/var/log/setup_server.log`)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 —à–∞–≥–∞)

**–®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –∫–∞–∫ root**
`ssh root@ip_–∞–¥—Ä–µ—Å_—Å–µ—Ä–≤–µ—Ä–∞`

**–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞**
`sudo apt update && apt install -y git && git clone https://github.com/Domorosheniy/server-scripts.git && cd server-scripts && chmod +x setup_server.sh && ./setup_server.sh`

**–®–∞–≥ 3: –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã**
–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç:
1. **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `deploy`, `admin`, –∏–ª–∏ –≤–∞—à –Ω–∏–∫)
2. **–ü–∞—Ä–æ–ª—å –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (–¥–≤–∞–∂–¥—ã)
3. **SSH –ø–æ—Ä—Ç** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `40024`, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é `1024-65535`)
4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ **3-5 –º–∏–Ω—É—Ç**.

---

## üìã –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É:**
`ssh -p –ø–æ—Ä—Ç_–∫–æ—Ç–æ—Ä—ã–π_–≤—ã_–≤—ã–±—Ä–∞–ª–∏ –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è@ip_–∞–¥—Ä–µ—Å`

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**

1. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:
   `sudo reboot`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞—â–∏—Ç—É:**
   `sudo ufw status`              # –°—Ç–∞—Ç—É—Å —Ñ–∞–µ—Ä–≤–æ–ª–∞
   `sudo systemctl status fail2ban`  # –°—Ç–∞—Ç—É—Å –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞

3. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤:**
   - `/root/server_info_–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.txt` ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - `/var/log/setup_server.log` ‚Äî –ø–æ–ª–Ω—ã–π –ª–æ–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## üéñÔ∏è –ü–æ—á–µ–º—É —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ª—É—á—à–µ –¥—Ä—É–≥–∏—Ö

‚úÖ **–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π** ‚Äî –¥–µ–ª–∞–µ—Ç —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–µ –∑–∞—Å–æ—Ä—è–µ—Ç —Å–∏—Å—Ç–µ–º—É  
‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π** ‚Äî –≤–∏–¥–µ–Ω –∫–∞–∂–¥—ã–π —à–∞–≥ –≤ –ª–æ–≥–∞—Ö  
‚úÖ **–ì–∏–±–∫–∏–π** ‚Äî –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Å–≤–æ–π SSH –ø–æ—Ä—Ç –∏ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã  
‚úÖ **–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π** ‚Äî –ø–æ—Å–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ —Å–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É  
‚úÖ **–õ—ë–≥–∫–∏–π** ‚Äî –Ω–∏–∫–∞–∫–∏—Ö –Ω–µ–Ω—É–∂–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞:** Ubuntu 20.04/22.04 LTS
- **–¢—Ä–µ–±—É–µ—Ç:** –ò—Å—Ö–æ–¥–Ω–æ–≥–æ root-–¥–æ—Å—Ç—É–ø–∞
- **–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** Root-–ª–æ–≥–∏–Ω –ø–æ SSH —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 22 —Å—Ç–∞–Ω–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- **–í–Ω–∏–º–∞–Ω–∏–µ:** –ï—Å–ª–∏ –∑–∞–±—É–¥–µ—Ç–µ SSH –ø–æ—Ä—Ç ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `/root/server_info_*.txt`

---

## üêõ –ù–∞—à–ª–∏ –±–∞–≥? –•–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å?

–≠—Ç–æ —Å–∫—Ä–∏–ø—Ç, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π ¬´–≤ –±–æ—é¬ª –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –Ω–∞ –¥–µ—Å—è—Ç–∫–∞—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏:
- –°–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub
- –ò–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ Pull Request
- –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ñ–æ—Ä–∫–Ω–∏—Ç–µ –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é (–∏ –ª–µ–Ω—å—é, –∫–∞–∫ –¥–≤–∏–∂—É—â–µ–π —Å–∏–ª–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞) –≤ 2026 –≥–æ–¥—É.

---

## üí∞ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç (–µ—Å–ª–∏ –Ω–µ –∂–∞–ª–∫–æ)

- **VDS —Å–µ—Ä–≤–µ—Ä—ã –æ—Ç 1$ –≤ –º–µ—Å—è—Ü** ‚Äî [HostVDS](https://hostvds.com/?affiliate_uuid=94501a75-fa3a-4ca6-b786-3634c8f5a837) ‚Äî –±–æ–Ω—É—Å –Ω–æ–≤–∏—á–∫–∞–º, –∞ –º–Ω–µ ‚Äî —Å–ø–∞—Å–∏–±–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ö. –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è —Å—Å—ã–ª–∫–∞.
- **–ê–±—É–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π —Ö–æ—Å—Ç–∏–Ω–≥** ‚Äî [Zomro](https://zomro.com/virtual?from=289861) ‚Äî (–ø—Ä–æ–º–æ–∫–æ–¥: `zomro_289861`).

> *–î–∞, —Å—Å—ã–ª–∫–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ. –ù–µ—Ç, —Ç—ã –Ω–µ –ø–µ—Ä–µ–ø–ª–∞—á–∏–≤–∞–µ—à—å. –î–∞, –ø—Ä–æ–µ–∫—Ç –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –∫–æ—Ñ–µ. –í—Å–µ–º —Ö–æ—Ä–æ—à–æ! ‚òï*